# JSON-RPC Server + Client Combined
from jsonrpclib.SimpleJSONRPCServer import SimpleJSONRPCServer
from jsonrpclib import Server

def findsum(a,b): return a+b

mode=input("Run as (s=server / c=client): ")

if mode=='s':  # Run server
    s=SimpleJSONRPCServer(('localhost',1006))
    s.register_function(findsum)
    print("Server running..."); s.serve_forever()

else:          # Run client
    c=Server('http://localhost:1006')
    print("Result:",c.findsum(500,200))
